import{_ as a,c as e,o as s,ag as i}from"./chunks/framework.BgId8OS5.js";const u=JSON.parse('{"title":"Система оффлайн-аутентификации","description":"","frontmatter":{},"headers":[],"relativePath":"ruRU/projbobcat/authenticators/offline.md","filePath":"ruRU/projbobcat/authenticators/offline.md","lastUpdated":1770208428000}'),n={name:"ruRU/projbobcat/authenticators/offline.md"};function r(l,t,h,d,o,p){return s(),e("div",null,t[0]||(t[0]=[i(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /ruRU/projbobcat/authenticators/offline.md for this page in Markdown format</div><h1 id="система-оффлаин-аутентификации" tabindex="-1">Система оффлайн-аутентификации <a class="header-anchor" href="#система-оффлаин-аутентификации" aria-label="Permalink to &quot;Система оффлайн-аутентификации&quot;">​</a></h1><nav class="table-of-contents"><ul><li><a href="#система-оффлаин-аутентификации">Система оффлайн-аутентификации</a><ul><li><a href="#инициализация-аутентификатора">Инициализация аутентификатора</a></li><li><a href="#получение-результата-аутентификации">Получение результата аутентификации</a></li><li><a href="#интерпретация-результата-аутентификации">Интерпретация результата аутентификации</a><ul><li><a href="#неудачныи-результат-аутентификации">Неудачный результат аутентификации</a></li><li><a href="#успешныи-результат-аутентификации">Успешный результат аутентификации</a></li></ul></li></ul></li></ul></nav><p>Эта система аутентификации реализует самые основные функции аутентификации. Обычно используется для локальной отладки и аутентификации.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Использование этой системы аутентификации в производственной среде может <strong>нарушать законы об авторском праве или лицензионное соглашение с конечным пользователем</strong> в некоторых странах и регионах. Для получения дополнительной информации см. <a href="https://www.minecraft.net/en-us/eula" target="_blank" rel="noreferrer">Лицензионное соглашение с конечным пользователем Mojang (на английском языке)</a>.</p></div><h2 id="инициализация-аутентификатора" tabindex="-1">Инициализация аутентификатора <a class="header-anchor" href="#инициализация-аутентификатора" aria-label="Permalink to &quot;Инициализация аутентификатора&quot;">​</a></h2><p>Вы можете инициализировать оффлайн-аутентификатор с помощью следующего кода:</p><div class="language-c# vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> offlineAuthenticator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OfflineAuthenticator</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    LauncherAccountParser </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> launcherAccountParser,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Username </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;[DISPLAY_NAME]&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>В приведенном выше блоке кода замените эти параметры в соответствии с вашей реальной ситуацией:</p><table tabindex="0"><thead><tr><th style="text-align:center;">Элемент</th><th style="text-align:center;">Описание</th></tr></thead><tbody><tr><td style="text-align:center;">launcherAccountParser</td><td style="text-align:center;">Для инициализации парсера учетных записей лаунчера см. <a href="./">здесь</a></td></tr><tr><td style="text-align:center;">[DISPLAY_NAME]</td><td style="text-align:center;">Отображаемое имя в игре, обычно состоящее из английских символов, знаков и цифр</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Для инициализации <strong>launcherAccountParser</strong> (парсера игровых профилей) см. страницу <a href="/ruRU/projbobcat/additionalParsers/gameProfileParser">Парсер игровых профилей</a>.</p></div><h2 id="получение-результата-аутентификации" tabindex="-1">Получение результата аутентификации <a class="header-anchor" href="#получение-результата-аутентификации" aria-label="Permalink to &quot;Получение результата аутентификации&quot;">​</a></h2><p>После завершения инициализации системы аутентификации вам нужно только вызвать метод аутентификации оффлайн-аутентификатора для завершения аутентификации учетной записи.</p><p>В асинхронном контексте используйте <strong>AuthTaskAsync</strong> для завершения аутентификации:</p><div class="language-c# vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> authResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> offlineAuthenticator.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AuthTaskAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>В синхронном контексте используйте <strong>Auth</strong> для завершения аутентификации:</p><div class="language-c# vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> authResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> offlineAuthenticator.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Auth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="интерпретация-результата-аутентификации" tabindex="-1">Интерпретация результата аутентификации <a class="header-anchor" href="#интерпретация-результата-аутентификации" aria-label="Permalink to &quot;Интерпретация результата аутентификации&quot;">​</a></h2><p>После завершения метода аутентификации оно вернет результат аутентификации, который является объектом типа <a href="https://github.com/Corona-Studio/ProjBobcat/blob/master/ProjBobcat/ProjBobcat/Class/Model/Auth/AuthResultBase.cs" target="_blank" rel="noreferrer">AuthResultBase</a>. Все результаты аутентификации содержат значение перечисления <strong>AuthStatus</strong>, которое напрямую указывает на успех или неудачу аутентификации. Ниже вы можете увидеть интерпретацию результата аутентификации:</p><h3 id="неудачныи-результат-аутентификации" tabindex="-1">Неудачный результат аутентификации <a class="header-anchor" href="#неудачныи-результат-аутентификации" aria-label="Permalink to &quot;Неудачный результат аутентификации&quot;">​</a></h3><p>Определив, является ли <strong>Error</strong> пустым, вы можете легко определить, является ли результат аутентификации, возвращенный системой аутентификации, действительным. Объект <strong>Error</strong> будет содержать следующие поля, чтобы сообщить вам некоторые подробности:</p><table tabindex="0"><thead><tr><th style="text-align:center;">Поле</th><th style="text-align:center;">Описание</th></tr></thead><tbody><tr><td style="text-align:center;">authResult.Error.Cause</td><td style="text-align:center;">Конкретная причина проблемы</td></tr><tr><td style="text-align:center;">authResult.Error.Error</td><td style="text-align:center;">Название ошибки</td></tr><tr><td style="text-align:center;">authResult.Error.ErrorMessage</td><td style="text-align:center;">Подробная информация об ошибке, может содержать решение</td></tr></tbody></table><h3 id="успешныи-результат-аутентификации" tabindex="-1">Успешный результат аутентификации <a class="header-anchor" href="#успешныи-результат-аутентификации" aria-label="Permalink to &quot;Успешный результат аутентификации&quot;">​</a></h3><p>Если поле <strong>Error</strong> в результате аутентификации пусто, это означает, что эта аутентификация действительна. Успешный результат аутентификации будет содержать следующую информацию:</p><table tabindex="0"><thead><tr><th style="text-align:center;">Поле</th><th style="text-align:center;">Описание</th></tr></thead><tbody><tr><td style="text-align:center;">authResult.Id</td><td style="text-align:center;">Уникальный идентификатор этого имени пользователя, ProjBobcat использует определенный метод генерации для генерации этого идентификатора</td></tr><tr><td style="text-align:center;">authResult.AccessToken</td><td style="text-align:center;">Учетные данные авторизации учетной записи пользователя, что не имеет смысла для системы оффлайн-аутентификации</td></tr><tr><td style="text-align:center;">authResult.User.UUID</td><td style="text-align:center;">UUID этого пользователя, аналогично <strong>authResult.Id</strong></td></tr><tr><td style="text-align:center;">authResult.User.Properties</td><td style="text-align:center;">Массив свойств пользователя, для системы оффлайн-аутентификации этот массив содержит только одно допустимое значение</td></tr></tbody></table>`,25)]))}const k=a(n,[["render",r]]);export{u as __pageData,k as default};
